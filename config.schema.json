{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "https://github.com/thomazmoura/spotlight-dimmer/config.schema.json",
  "title": "SpotlightDimmer Configuration",
  "type": "object",
  "description": "Configuration schema for SpotlightDimmer overlay settings, system options, and profiles",
  "additionalProperties": false,
  "properties": {
    "$schema": {
      "type": "string"
    },
    "ConfigVersion": {
      "type": [
        "null",
        "string"
      ]
    },
    "Overlay": {
      "$ref": "#/definitions/OverlayConfig"
    },
    "System": {
      "$ref": "#/definitions/SystemConfig"
    },
    "Profiles": {
      "type": "array",
      "description": "List of saved profiles for quick overlay configuration switching",
      "items": {
        "$ref": "#/definitions/Profile"
      }
    },
    "CurrentProfile": {
      "type": [
        "null",
        "string"
      ],
      "description": "The name of the currently active profile, or null if using custom settings"
    }
  },
  "definitions": {
    "OverlayConfig": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Mode": {
          "type": "string",
          "description": "The dimming mode controlling overlay behavior"
        },
        "InactiveColor": {
          "type": "string",
          "description": "Inactive overlay color in hex format (e.g., '#000000' for black, '#1A1A1A' for dark gray)",
          "pattern": "^#[0-9A-Fa-f]{6}$"
        },
        "InactiveOpacity": {
          "type": "integer",
          "description": "Inactive overlay opacity (0 = fully transparent, 255 = fully opaque). Recommended: 153 (~60% opacity)",
          "format": "int32"
        },
        "ActiveColor": {
          "type": "string",
          "description": "Active overlay color in hex format (used only in PartialWithActive mode)",
          "pattern": "^#[0-9A-Fa-f]{6}$"
        },
        "ActiveOpacity": {
          "type": "integer",
          "description": "Active overlay opacity (used only in PartialWithActive mode). Should be less than InactiveOpacity for spotlight effect. Recommended: 102 (~40% opacity)",
          "format": "int32"
        },
        "ExcludeFromScreenCapture": {
          "type": "boolean",
          "description": "EXPERIMENTAL: Exclude overlay windows from screen captures/screenshots. May not work on all systems due to Windows API limitations with layered windows."
        }
      }
    },
    "SystemConfig": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "EnableLogging": {
          "type": "boolean",
          "description": "Enable file-based logging to %AppData%\\SpotlightDimmer\\logs"
        },
        "LogLevel": {
          "type": "string",
          "description": "Log level for file output"
        },
        "LogRetentionDays": {
          "type": "integer",
          "description": "Number of days to retain log files. Older logs are automatically deleted.",
          "format": "int32"
        },
        "RendererBackend": {
          "type": "string"
        }
      }
    },
    "Profile": {
      "type": "object",
      "description": "A saved overlay configuration preset",
      "additionalProperties": false,
      "properties": {
        "Name": {
          "type": "string",
          "description": "The name of the profile (e.g., 'Light Mode', 'Dark Mode', 'Night Mode')"
        },
        "Mode": {
          "type": "string"
        },
        "InactiveColor": {
          "type": "string"
        },
        "InactiveOpacity": {
          "type": "integer",
          "format": "int32"
        },
        "ActiveColor": {
          "type": "string"
        },
        "ActiveOpacity": {
          "type": "integer",
          "format": "int32"
        }
      }
    }
  }
}